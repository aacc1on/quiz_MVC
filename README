# English Quiz MVC Application

A modern English vocabulary quiz application built with Express.js, EJS templating, and MVC architecture.

## Features

### For Students
- ğŸ¯ Interactive vocabulary quizzes with multiple-choice questions
- ğŸ“Š Detailed results with wrong answer explanations
- ğŸ¨ Modern, responsive design
- ğŸ“± Mobile-friendly interface

### For Administrators
- ğŸ¤– AI-powered quiz generation from text input
- ğŸ“ˆ Comprehensive results dashboard
- ğŸ‘¥ Student performance tracking
- ğŸ” Secure admin authentication

### Technical Features
- ğŸ—ï¸ MVC (Model-View-Controller) architecture
- ğŸ¨ EJS templating engine
- ğŸ’¾ In-memory data storage (easily extendable to databases)
- ğŸ”’ Session-based authentication
- ğŸ“± Responsive CSS design
- âš¡ Real-time form validation

## Installation

1. **Clone the repository**
```bash
git clone <repository-url>
cd quiz-mvc-app
```

2. **Install dependencies**
```bash
npm install
```

3. **Set up environment variables**
Create a `.env` file in the root directory:
```env
PORT=3000
NODE_ENV=development
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123
SESSION_SECRET=your-super-secret-session-key-here
OPENROUTER_API_KEY=your-openrouter-api-key-here
```

4. **Get OpenRouter API Key**
- Visit [OpenRouter.ai](https://openrouter.ai/)
- Sign up and get your API key
- Add it to your `.env` file

5. **Start the application**
```bash
# Development mode (with auto-restart)
npm run dev

# Production mode
npm start
```

6. **Access the application**
- Main app: http://localhost:3000
- Take quiz: http://localhost:3000/quiz
- Admin panel: http://localhost:3000/admin

## Project Structure

```
quiz-mvc-app/
â”œâ”€â”€ app.js                 # Main application entry point
â”œâ”€â”€ package.json           # Dependencies and scripts
â”œâ”€â”€ .env                   # Environment variables
â”œâ”€â”€ README.md             # Project documentation
â”‚
â”œâ”€â”€ controllers/          # Business logic controllers
â”‚   â”œâ”€â”€ adminController.js    # Admin panel logic
â”‚   â”œâ”€â”€ quizController.js     # Quiz functionality
â”‚   â””â”€â”€ homeController.js     # Home page logic
â”‚
â”œâ”€â”€ models/              # Data models
â”‚   â”œâ”€â”€ Quiz.js             # Quiz data model
â”‚   â”œâ”€â”€ Result.js           # Results data model
â”‚   â””â”€â”€ Admin.js            # Admin authentication model
â”‚
â”œâ”€â”€ services/            # External services
â”‚   â””â”€â”€ aiService.js        # OpenRouter AI integration
â”‚
â”œâ”€â”€ middlewares/         # Custom middleware
â”‚   â””â”€â”€ authMiddleware.js   # Authentication middleware
â”‚
â”œâ”€â”€ routes/              # Route definitions
â”‚   â”œâ”€â”€ index.js            # Home routes
â”‚   â”œâ”€â”€ admin.js            # Admin routes
â”‚   â””â”€â”€ quiz.js             # Quiz routes
â”‚
â”œâ”€â”€ views/               # EJS templates
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â””â”€â”€ main.ejs        # Main layout template
â”‚   â”œâ”€â”€ partials/
â”‚   â”‚   â”œâ”€â”€ header.ejs      # Header component
â”‚   â”‚   â”œâ”€â”€ footer.ejs      # Footer component
â”‚   â”‚   â””â”€â”€ messages.ejs    # Flash messages
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ login.ejs       # Admin login page
â”‚   â”‚   â”œâ”€â”€ dashboard.ejs   # Admin dashboard
â”‚   â”‚   â””â”€â”€ results.ejs     # Results management
â”‚   â”œâ”€â”€ quiz/
â”‚   â”‚   â”œâ”€â”€ index.ejs       # Quiz taking page
â”‚   â”‚   â”œâ”€â”€ result.ejs      # Quiz results page
â”‚   â”‚   â””â”€â”€ no-quiz.ejs     # No quiz available page
â”‚   â”œâ”€â”€ index.ejs           # Home page
â”‚   â”œâ”€â”€ 404.ejs            # 404 error page
â”‚   â””â”€â”€ 500.ejs            # 500 error page
â”‚
â””â”€â”€ public/              # Static assets
    â”œâ”€â”€ css/
    â”‚   â””â”€â”€ style.css       # Main stylesheet
    â”œâ”€â”€ js/
    â”‚   â””â”€â”€ main.js         # Client-side JavaScript
    â””â”€â”€ images/             # Image assets
```

## Usage

### Admin Panel

1. **Login**
   - Navigate to `/admin/login`
   - Use credentials from your `.env` file
   - Default: username `admin`, password `admin123`

2. **Generate Quiz**
   - Go to Admin Dashboard
   - Enter text (minimum 20 characters)
   - Click "Generate Quiz"
   - AI will create 10 questions based on the text

3. **View Results**
   - Click "View Results" to see all submissions
   - Expand details to see question-by-question analysis
   - Track student performance over time

### Taking Quiz

1. **Access Quiz**
   - Navigate to `/quiz`
   - Enter your name and surname
   - Answer all 10 questions

2. **Submit & Review**
   - Click "Submit Quiz"
   - View your score and percentage
   - Review wrong answers with explanations

## API Endpoints

### Public Routes
- `GET /` - Home page
- `GET /quiz` - Take quiz
- `POST /quiz/submit` - Submit quiz answers

### Admin Routes (Protected)
- `GET /admin/login` - Admin login page
- `POST /admin/login` - Process login
- `GET /admin/dashboard` - Admin dashboard
- `POST /admin/generate-quiz` - Generate new quiz
- `GET /admin/results` - View all results
- `POST /admin/logout` - Logout

## Customization

### Styling
- Edit `/public/css/style.css` for visual customization
- Modify EJS templates in `/views/` for layout changes

### Quiz Generation
- Adjust AI prompt in `/services/aiService.js`
- Change number of questions or difficulty level
- Switch to different AI models

### Data Storage
- Currently uses in-memory storage
- Easily extendable to MongoDB, PostgreSQL, etc.
- Models in `/models/` folder are ready for database integration

### Authentication
- Basic session-based auth implemented
- Can be extended with JWT, OAuth, etc.
- User roles and permissions can be added

## Deployment

### Local Development
```bash
npm run dev
```

### Production Deployment

1. **Set environment variables**
```bash
export NODE_ENV=production
export PORT=3000
export ADMIN_USERNAME=your-admin-username
export ADMIN_PASSWORD=your-secure-password
export SESSION_SECRET=your-very-secure-session-secret
export OPENROUTER_API_KEY=your-api-key
```

2. **Start application**
```bash
npm start
```

### Docker Deployment
```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
EXPOSE 3000
CMD ["npm", "start"]
```

### Cloud Deployment
- **Heroku**: Add environment variables in dashboard
- **Vercel**: Configure in vercel.json
- **Railway**: Set variables in project settings
- **DigitalOcean**: Use App Platform

## Security Features

- Session-based authentication
- CSRF protection ready (can be enabled)
- Input validation and sanitization
- Environment variable configuration
- Secure cookie settings for production

## Performance

- Lightweight MVC architecture
- Minimal dependencies
- Optimized CSS and JavaScript
- Responsive design for all devices
- Fast in-memory data access

## Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## Troubleshooting

### Common Issues

1. **Quiz generation fails**
   - Check OpenRouter API key
   - Verify internet connection
   - Check API rate limits

2. **Admin login fails**
   - Verify ADMIN_USERNAME and ADMIN_PASSWORD in .env
   - Clear browser cookies/session

3. **Port already in use**
   - Change PORT in .env file
   - Kill process using port: `lsof -ti:3000 | xargs kill -9`

### Debug Mode
```bash
DEBUG=* npm run dev
```

## License

MIT License - see LICENSE file for details

## Support

For support, please open an issue on GitHub or contact the development team.

---

Built with â¤ï¸ using Express.js, EJS, and modern web technologies.
*/

// ====== Installation Instructions ======
/*
COMPLETE SETUP INSTRUCTIONS:

1. CREATE PROJECT DIRECTORY:
   mkdir quiz-mvc-app
   cd quiz-mvc-app

2. INITIALIZE NPM:
   npm init -y

3. INSTALL DEPENDENCIES:
   npm install express ejs express-session dotenv axios method-override express-flash
   npm install --save-dev nodemon

4. CREATE FOLDER STRUCTURE:
   mkdir -p controllers models services middlewares routes views/layouts views/partials views/admin views/quiz public/css public/js public/images

5. CREATE FILES:
   - Copy the code above into respective files
   - Create .env file with your configuration
   - Create package.json with the provided content

6. SET UP ENVIRONMENT:
   - Get OpenRouter API key from https://openrouter.ai/
   - Configure your .env file with proper values

7. RUN THE APPLICATION:
   npm run dev

The application will be available at:
- Home: http://localhost:3000
- Quiz: http://localhost:3000/quiz  
- Admin: http://localhost:3000/admin

FEATURES PRESERVED FROM ORIGINAL:
âœ… AI-powered quiz generation
âœ… Admin authentication
âœ… Quiz taking functionality  
âœ… Detailed results tracking
âœ… Responsive design
âœ… Error handling
âœ… All original functionality

NEW FEATURES ADDED:
âœ… MVC architecture
âœ… EJS templating
âœ… Unified frontend/backend
âœ… Modern responsive design
âœ… Better user experience
âœ… Proper routing structure
âœ… Component-based views
âœ… Professional styling
âœ… Enhanced security
âœ… Better error pages
